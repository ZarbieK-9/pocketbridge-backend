# PocketBridge Backend Environment Variables
# Copy this file to .env and update with your values

# Server Configuration
NODE_ENV=production
PORT=3001

# PostgreSQL Database
# Option 1: Use DATABASE_URL (Railway provides this automatically)
DATABASE_URL=postgresql://user:password@host:port/database

# Option 2: Use individual variables
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=pocketbridge
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_CONNECTION_TIMEOUT=10000

# Redis
# Option 1: Use REDIS_URL (Railway provides this automatically)
REDIS_URL=redis://default:password@host:port

# Option 2: Use individual variables
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Server Identity Keys (Ed25519)
# Generate with: node generate-keys.js
SERVER_PUBLIC_KEY=your-public-key-hex
SERVER_PRIVATE_KEY=your-private-key-pem
SERVER_PUBLIC_KEY_HEX=your-public-key-hex
SERVER_PRIVATE_KEY_HEX=your-private-key-hex

# CORS Configuration
# Comma-separated list of allowed origins for browser clients
# Note: Do NOT include a trailing slash
CORS_ORIGIN=https://pocketbridge-dun.vercel.app
# Set to true only if you need cookies/auth headers; requires specific origins (not '*')
CORS_CREDENTIALS=false

# Logging
LOG_LEVEL=info

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# WebSocket Configuration
WS_SESSION_TIMEOUT=86400000
WS_REPLAY_WINDOW_DAYS=30
WS_MAX_CONNECTIONS_PER_IP=10

# Admin API Key (for /admin routes)
# Generate a secure random key: openssl rand -hex 32
ADMIN_API_KEY=your-secure-admin-api-key-here

# Logging
LOG_LEVEL=info

# Data Retention (in days)
EVENT_RETENTION_DAYS=90
DEVICE_INACTIVE_DAYS=365
SESSION_RETENTION_DAYS=30

